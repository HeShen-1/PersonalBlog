# 2025.06.22 - 静态化重构与时间日历功能
## 🔄 重大架构调整
### 移除GitHub OAuth权限系统
- **静态化转换**：项目转换为完全静态的展示版本，适配GitHub Pages部署
- **移除认证功能**：删除所有GitHub登录验证和开发者身份认证
- **移除设置功能**：删除个人资料设置和时间线设置功能
- **简化架构**：移除NextAuth.js依赖，优化项目结构

### 🗂️ 删除的文件
- `app/api/auth/[...nextauth]/route.ts` - NextAuth API路由
- `app/auth/signin/page.tsx` - 登录页面
- `app/auth/error/page.tsx` - 认证错误页面
- `app/hooks/useAuth.ts` - 认证Hook
- `app/components/AuthProvider.tsx` - 认证提供者
- `app/components/AuthModal.tsx` - 登录弹窗
- `app/lib/auth.ts` - 认证配置
- `app/components/home/modals/ProfileSettings.tsx` - 个人资料设置
- `app/components/home/modals/TimelineSettings.tsx` - 时间线设置
- 相关文档：`GITHUB_OAUTH_SETUP.md`、`PERMISSION_SYSTEM.md`等

## ✨ 新增功能
### 🕐 时间日历组件系统
- **TimeDisplay组件**：实时时间显示
  - 📅 显示当前日期（年月日、星期）
  - 🕐 实时时间更新（时分秒）
  - 🎨 优雅的玻璃态设计
  - 📱 响应式布局适配
  - 🔄 展开/收起功能，带收起按钮（"--"图标）

- **MiniCalendar组件**：迷你日历
  - 📅 标准月历显示（7x6网格）
  - 🗓️ 月份导航（左右箭头）
  - ⭐ 今天日期高亮显示
  - 🎯 日期悬停效果
  - 🌙 **农历信息显示**：
    - 农历日期转换
    - 传统节日显示
    - 二十四节气标注
    - 生肖年份显示
    - 悬浮提示框展示详细信息

- **TimeCalendarWidget容器组件**：
  - 📍 固定定位在右上角
  - 🎭 展开/收起状态管理
  - ✨ 流畅的动画过渡效果
  - 🎨 统一的设计风格

### 🌙 农历功能集成
- **lunar-javascript库**：集成专业农历计算库
- **类型声明**：添加TypeScript类型支持
- **农历工具函数**：
  - 公历转农历日期
  - 传统节日识别
  - 二十四节气计算
  - 生肖年份获取
- **悬浮显示**：鼠标悬停显示农历详细信息

## 🎨 界面优化
### 主题系统改进
- **默认主题**：强制设置为浅色模式，移除系统偏好检测
- **按钮优化**：调整导航栏按钮大小和间距
- **链接行为**：项目卡片链接在新标签页打开

### 视觉效果提升
- **时间组件动画**：移除时间跳动效果，改为静态显示
- **收起逻辑优化**：添加专用收起按钮，改善用户体验
- **农历显示美化**：使用emoji图标和格式化文本

## 🔧 技术改进
### 依赖管理
- **移除依赖**：删除next-auth相关依赖
- **新增依赖**：添加lunar-javascript农历计算库
- **类型支持**：完善TypeScript类型声明

### 代码结构优化
- **组件模块化**：时间日历功能独立组件化
- **工具函数分离**：农历计算逻辑独立封装
- **状态管理简化**：移除复杂的认证状态管理

### 构建优化
- **静态导出**：配置完全静态化构建
- **性能提升**：移除服务器端依赖，提高加载速度
- **部署友好**：完美适配GitHub Pages等静态托管平台

## 📁 主要文件变更
### 新增文件
- `app/components/home/TimeDisplay.tsx` - 时间显示组件
- `app/components/home/MiniCalendar.tsx` - 迷你日历组件
- `app/components/home/TimeCalendarWidget.tsx` - 时间日历容器
- `app/types/lunar-javascript.d.ts` - 农历库类型声明
- `app/utils/lunar.ts` - 农历工具函数

### 修改文件
- `app/page.tsx` - 移除认证逻辑，添加时间日历组件
- `app/components/Navbar.tsx` - 移除开发者模式，优化按钮样式
- `app/components/ThemeProvider.tsx` - 强制默认浅色主题
- `app/layout.tsx` - 移除AuthProvider包装
- `package.json` - 更新依赖配置
- `README.md` - 更新为静态版本说明

## 🎯 最终效果
### 功能特性
- ✅ 完全静态的个人主页展示
- ✅ 实时时间和农历日历显示
- ✅ GitHub贡献图展示
- ✅ 个人信息和技能展示
- ✅ 项目和站点链接
- ✅ 社交媒体链接
- ✅ 背景图片切换
- ✅ 响应式设计

### 部署优势
- 🚀 可直接部署到GitHub Pages
- ⚡ 快速加载，无服务器依赖
- 💰 零成本托管
- 🔒 安全稳定，无认证风险

---

# 2025.06.19
- 优化了整体的布局，删除了虚构的文章。
## todo
- 新增tailwind组件
    - 时间、日历 
    - 音乐
- 迁移博客
- 添加后续内容的基本框架

---

# 2025.06.20 - 重大功能更新
## ✨ 新增功能
### 🔧 个人信息设置系统
- **设置按钮**：个人信息卡片右上角添加齿轮图标设置按钮
- **头像上传**：支持点击上传和拖拽上传，文件大小限制5MB，支持JPG/PNG格式
- **地理位置选择**：智能地理位置选择器
  - 支持中国34个省级行政区
  - 包含美国、日本、英国、德国、法国、加拿大、澳大利亚等7个国家
  - 智能搜索功能，支持模糊匹配
  - **键盘导航**：支持上下键选择，回车确认，ESC关闭
- **技能标签管理**：动态技能标签系统
  - 70+个预设技能建议
  - 支持添加、删除、编辑技能标签
  - 流畅的进入/退出动画效果
  - 最多8个技能标签限制
- **数据持久化**：所有个人信息保存到localStorage

### 📅 时间线设置系统
- **设置按钮**：时间线卡片右上角添加设置按钮
- **智能排序**：根据时间自动排序（最新在上）
  - 支持多种时间格式：`2024.6`、`2022.9-2026.6`、`2024`等
  - 智能解析年份进行排序比较
- **完整日历选择器**：
  - 📅 标准7x6日历网格布局
  - 🗓️ 月份导航（左右箭头切换）
  - ⭐ 今天日期特殊高亮显示
  - 🎯 点击日期直接选择并应用
  - 🎨 绿色主题，与时间线风格一致
  - ✨ 流畅的Framer Motion动画效果
- **事件管理**：添加、删除、修改时间线事件
- **数据持久化**：时间线数据保存到localStorage

### 📧 邮箱联系系统
- **邮箱卡片弹窗**：点击邮箱图标显示联系信息
- **复制功能**：一键复制邮箱地址
- **成功提示**：复制成功后显示绿色提示，向上渐变消失

---

# 2025.06.21 - GitHub OAuth权限控制系统实现
## 🔐 权限管理功能升级
### 核心特性
- **GitHub OAuth认证**：使用GitHub账户进行身份验证
- **开发者白名单**：只有指定的GitHub用户可以访问
- **功能按钮隐藏**：非开发者用户无法看到设置按钮
- **会话管理**：基于NextAuth.js的安全会话管理
- **开发者指示器**：导航栏显示GitHub用户名

### 受保护的功能
1. **个人信息设置**：
   - 头像上传（支持拖拽和点击）
   - 基本信息编辑（姓名、标题、位置、简介）
   - 技能标签管理（添加、删除、编辑）

2. **时间线设置**：
   - 时间线事件添加/删除
   - 事件内容和时间编辑
   - 智能时间排序

### 用户界面优化
- **GitHub登录弹窗**：
  - 🎨 美观的模糊背景设计
  - 🔗 GitHub OAuth登录按钮
  - 🔄 登录状态指示和加载动画
  - 📋 详细的功能说明和安全提示
  - ❌ 错误处理和用户引导

- **开发者模式指示器**：
  - 🛡️ 导航栏显示GitHub用户名
  - 🚪 一键退出开发者模式
  - 📱 移动端适配

### 技术实现
- **NextAuth.js集成**：GitHub OAuth认证
- **`useAuth` Hook**：基于session的权限状态管理
- **`AuthModal` 组件**：GitHub登录界面
- **API路由**：NextAuth认证处理
- **条件渲染**：根据GitHub登录状态控制按钮显示

### 安全考虑
- GitHub OAuth服务器端验证
- 开发者白名单机制
- JWT安全会话管理
- 防止意外修改重要设置

## 📝 文档完善
- 更新 `PERMISSION_SYSTEM.md` 详细说明文档
- 创建 `GITHUB_OAUTH_SETUP.md` OAuth配置指南
- 包含环境变量配置、GitHub应用创建步骤
- 提供故障排除和安全注意事项

## 🎯 使用方法
1. 配置GitHub OAuth应用和环境变量
2. 在代码中设置允许的GitHub用户名
3. 访问网站时，设置按钮默认隐藏
4. 点击设置区域时，弹出GitHub登录窗口
5. 使用GitHub账户登录进行身份验证
6. 验证成功后可正常使用所有设置功能
7. 导航栏显示GitHub用户名，可随时退出

### 🎨 视觉系统优化
- **背景控制**：
  - 新增dusk.jpg背景图片并设为默认
  - 背景模糊程度控制（无模糊、轻微、适中、强烈）
  - 背景图片大小适配优化
- **网站图标**：设置R.png作为网站favicon
- **动画效果**：使用Framer Motion实现流畅交互动画

## 🔧 技术改进
### 交互体验优化
- **键盘导航**：地理位置选择支持完整键盘操作
- **点击外部关闭**：所有弹窗和下拉框支持点击外部关闭
- **响应式设计**：所有新组件都支持不同屏幕尺寸适配
- **错误处理**：完善的输入验证和错误提示

### 状态管理优化
- **数据分离**：编辑状态与显示状态完全分离
- **本地存储**：智能的数据持久化机制
- **性能优化**：避免不必要的重渲染

### 代码结构优化
- **组件化设计**：每个功能模块独立管理
- **类型安全**：完整的TypeScript类型定义
- **代码复用**：通用函数和工具类的提取

## 📁 文件变更
- `app/page.tsx`：主要功能实现
- `app/layout.tsx`：网站图标配置
- `app/components/Navbar.tsx`：导航栏优化
- `public/image/bg/dusk.jpg`：新增背景图片
- `public/image/ico/R.png`：网站图标文件

## 🎯 用户体验提升
- **一站式个人信息管理**：用户可以完全自定义个人主页信息
- **直观的时间线管理**：可视化的时间线编辑和自动排序
- **便捷的日期选择**：标准日历界面，符合用户习惯
- **数据永久保存**：刷新页面后所有设置都会保留
- **流畅的交互动画**：现代化的用户界面体验

---

## todo
- 修复技能板块
  - 阿里icon库
- 添加组件
  - 日历
  - 音乐
  - 动态图
- 重构项目结构，优化代码。
  - GitHub贡献图还需要优化加载
- 设置GitHub开发者登录
